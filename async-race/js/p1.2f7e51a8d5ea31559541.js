(()=>{"use strict";var t={983:(t,e,n)=>{n.r(e)},215:function(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,r){function s(t){try{d(a.next(t))}catch(t){r(t)}}function o(t){try{d(a.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}d((a=a.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(713)),s=i(n(670)),o=i(n(605)),d=i(n(861)),u=i(n(312)),c=n(56),l=new class{render(){var t,e;document.body.insertAdjacentHTML("beforeend",c.base),null===(t=document.getElementById("page-winners"))||void 0===t||t.addEventListener("click",(()=>a(this,void 0,void 0,(function*(){u.default.render(yield s.default.all(o.default.pageWin))})))),null===(e=document.getElementById("page-garage"))||void 0===e||e.addEventListener("click",(()=>a(this,void 0,void 0,(function*(){d.default.render(yield r.default.all(o.default.page))}))))}};e.default=l},628:function(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,r){function s(t){try{d(a.next(t))}catch(t){r(t)}}function o(t){try{d(a.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}d((a=a.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(713)),s=n(114),o=i(n(670)),d=i(n(605)),u=i(n(861)),c=n(586),l=n(56),h=n(708),f=i(n(140));e.default=class{constructor(t){this.id=t.id,this.name=t.name,this.color=t.color,this.engine=new s.EngineService}render(t){this.car=document.createElement("li");const e=document.createElement("p");this.flag=document.createElement("li"),this.car.classList.add("item-car__image"),e.classList.add("car__title"),this.flag.classList.add("flag"),e.textContent=this.name,this.car.insertAdjacentHTML("beforeend",(0,l.carSvg)(this.color)),t.append(e),t.append(this.car),t.append(this.flag)}drive(){return a(this,void 0,void 0,(function*(){const t=yield this.engine.status(this.id,h.IStatus.started),e=this.car,n=this.flag,a=(0,c.getDistance)(e,n);this.stopAnimation=(0,c.animation)(t,e,a);const i=+(t/1e3).toFixed(1);try{if(yield this.engine.status(this.id,h.IStatus.drive),d.default.isWinner)return;d.default.isWinner=!0,f.default.render(this.name,i);const t=yield o.default.get(this.id);if(404===t.status)yield o.default.set({id:this.id,wins:1,time:i});else{const e=yield t.json();yield o.default.update(this.id,{wins:e.wins+1,time:e.time<=i?e.time:i})}}catch(t){this.stopAnimation()}}))}stop(){return a(this,void 0,void 0,(function*(){this.stopAnimation(),yield this.engine.status(this.id,h.IStatus.stopped),this.car.style.transform="translate(0px)"}))}delete(){return a(this,void 0,void 0,(function*(){u.default.render(yield r.default.delete(this.id)),yield o.default.delete(this.id)}))}}},579:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t,e,n){this.callback=n,this.typeControl=t,this.text=e}render(){const t=document.createElement("button");return t.classList.add("buttons"),t.id=this.typeControl,t.textContent=this.text,t.addEventListener("click",this.callback),t}}},198:function(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,r){function s(t){try{d(a.next(t))}catch(t){r(t)}}function o(t){try{d(a.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}d((a=a.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(605)),s=i(n(579));e.default=class{constructor(t){this.selectCarButton=null,this.deleteCarButton=null,this.raceCarButton=null,this.stopCarButton=null,this.car=t}render(){const t=document.createElement("li");t.classList.add("cars-list__item-car");const e=document.createElement("li");e.classList.add("item-car__buttons");const n=document.createElement("li");n.classList.add("buttons__settings-car");const a=document.createElement("li");return a.classList.add("buttons__game-car"),this.selectCarButton=new s.default("select-car","select",this.selectCar.bind(this)).render(),this.deleteCarButton=new s.default("remove-car","remove",this.removeCar.bind(this)).render(),this.raceCarButton=new s.default("start-car","start",this.startCar.bind(this)).render(),this.raceCarButton.classList.add("start-car"),this.stopCarButton=new s.default("reset-car","reset",this.stopCar.bind(this)).render(),this.stopCarButton.disabled=!0,this.stopCarButton.classList.add("stop-car"),e.append(n),n.append(this.selectCarButton),n.append(this.deleteCarButton),e.append(a),a.append(this.raceCarButton),a.append(this.stopCarButton),t.append(e),this.car.render(t),t}selectCar(){return a(this,void 0,void 0,(function*(){const t=document.getElementById("update-name"),e=document.getElementById("update"),n=document.getElementById("update-color");e.disabled=!1,r.default.selectCar=this.car.id,t.value=this.car.name,n.value=this.car.color}))}removeCar(){return a(this,void 0,void 0,(function*(){this.car.delete()}))}startCar(){return a(this,void 0,void 0,(function*(){this.raceCarButton.disabled=!0,this.stopCarButton.disabled=!1,this.car.drive()}))}stopCar(){return a(this,void 0,void 0,(function*(){this.raceCarButton.disabled=!1,this.stopCarButton.disabled=!0,this.car.stop()}))}}},140:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const n=new class{render(t,e){const n=document.createElement("div");n.classList.add("popup");const a=document.createElement("div");a.classList.add("popup__title"),a.textContent=`${t} wins, with time ${e} s`;const i=document.createElement("button");i.classList.add("popup__button"),i.textContent="OK",n.append(a),n.append(i),document.querySelector("#reset").disabled=!0,i.addEventListener("click",(()=>{n.remove(),document.querySelectorAll("button").forEach((t=>{t.disabled=!1})),document.querySelectorAll(".start-car").forEach((t=>{t instanceof HTMLButtonElement&&(t.disabled=!0)})),document.querySelectorAll(".stop-car").forEach((t=>{t instanceof HTMLButtonElement&&(t.disabled=!0)})),document.querySelector("#reset").disabled=!1,document.querySelector("#race").disabled=!0})),document.body.append(n)}};e.default=n},613:function(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,r){function s(t){try{d(a.next(t))}catch(t){r(t)}}function o(t){try{d(a.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}d((a=a.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(713)),s=n(56);e.default=class{render(t,e){return a(this,void 0,void 0,(function*(){console.log(t);const{id:n,wins:a,time:i}=t,o=yield r.default.get(n),d=document.createElement("li");return d.classList.add("table-winners__car"),d.insertAdjacentHTML("beforeend",(0,s.tableWinners)(e+1,n,o.color,o.name,a,i)),d}))}}},594:function(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,r){function s(t){try{d(a.next(t))}catch(t){r(t)}}function o(t){try{d(a.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}d((a=a.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(670)),s=i(n(605)),o=i(n(312)),d=i(n(579));e.default=class{constructor(){this.isSortId=!1,this.isSortWins=!1,this.isSortTime=!1}render(){const t=document.createElement("li");t.classList.add("table-winners__title");const e=new d.default("id-winner","ID",this.sort.bind(this,"id")).render(),n=document.createElement("div");n.textContent="â„–";const a=document.createElement("div");a.textContent="CAR";const i=document.createElement("div");i.textContent="NAME";const r=new d.default("cars-winners","WINS",this.sort.bind(this,"wins")).render(),s=new d.default("time-winners","BEST TIME",this.sort.bind(this,"time")).render();return t.append(n),t.append(e),t.append(a),t.append(i),t.append(r),t.append(s),t}sort(t){return a(this,void 0,void 0,(function*(){s.default.sort=t,this.isSortId?(s.default.order="ASC",this.isSortId=!1):(s.default.order="DESC",this.isSortId=!0),o.default.render(yield r.default.all())}))}}},713:function(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,r){function s(t){try{d(a.next(t))}catch(t){r(t)}}function o(t){try{d(a.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}d((a=a.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(665)),s=new class{constructor(){this.repo=new r.default}all(t=0){return a(this,void 0,void 0,(function*(){const e=yield this.repo.All(t);return{cars:yield e.json(),count:e.headers.get("X-Total-Count")}}))}delete(t){return a(this,void 0,void 0,(function*(){return yield this.repo.delete(t),this.all()}))}set(t){return a(this,void 0,void 0,(function*(){return this.repo.set(t),this.all()}))}get(t){return a(this,void 0,void 0,(function*(){return this.repo.get(t)}))}update(t,e){return a(this,void 0,void 0,(function*(){return this.repo.update(t,e),this.all()}))}};e.default=s},665:function(t,e){var n=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,r){function s(t){try{d(a.next(t))}catch(t){r(t)}}function o(t){try{d(a.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}d((a=a.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(){this.baseUrl="http://localhost:3000",this.garage=`${this.baseUrl}/garage`}All(t,e=7){return n(this,void 0,void 0,(function*(){return yield fetch(`${this.garage}?_page=${t}&_limit=${e}`)}))}get(t){return n(this,void 0,void 0,(function*(){return(yield fetch(`${this.garage}/${t}`)).json()}))}set(t){return n(this,void 0,void 0,(function*(){yield(yield fetch(this.garage,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json()}))}delete(t){return n(this,void 0,void 0,(function*(){return(yield fetch(`${this.garage}/${t}`,{method:"DELETE"})).ok}))}update(t,e){return n(this,void 0,void 0,(function*(){yield(yield fetch(`${this.garage}/${t}`,{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})).json()}))}}},825:function(t,e){var n=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,r){function s(t){try{d(a.next(t))}catch(t){r(t)}}function o(t){try{d(a.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}d((a=a.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(){this.baseUrl="http://localhost:3000",this.engine=`${this.baseUrl}/engine`}status(t,e){return n(this,void 0,void 0,(function*(){return(yield fetch(`${this.engine}?id=${t}&status=${e}`,{method:"PATCH"})).json()}))}}},114:function(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,r){function s(t){try{d(a.next(t))}catch(t){r(t)}}function o(t){try{d(a.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}d((a=a.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EngineService=void 0;const r=i(n(825));class s{constructor(){this.repo=new r.default}status(t,e){return a(this,void 0,void 0,(function*(){return this.repo.status(t,e).then((t=>{const{velocity:e,distance:n}=t;return n/e}))}))}}e.EngineService=s;const o=new s;e.default=o},478:function(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,r){function s(t){try{d(a.next(t))}catch(t){r(t)}}function o(t){try{d(a.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}d((a=a.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(605));e.default=class{constructor(){this.baseUrl="http://localhost:3000",this.winners=`${this.baseUrl}/winners`}all(t,e=10){return a(this,void 0,void 0,(function*(){return yield fetch(`${this.winners}?_page=${t}&_limit=${e}&_sort=${r.default.sort}&_order=${r.default.order}`)}))}get(t){return a(this,void 0,void 0,(function*(){return yield fetch(`${this.winners}/${t}`)}))}set(t){return a(this,void 0,void 0,(function*(){yield(yield fetch(this.winners,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json()}))}delete(t){return a(this,void 0,void 0,(function*(){return(yield fetch(`${this.winners}/${t}`,{method:"DELETE"})).ok}))}update(t,e){return a(this,void 0,void 0,(function*(){yield(yield fetch(`${this.winners}/${t}`,{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})).json()}))}}},670:function(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,r){function s(t){try{d(a.next(t))}catch(t){r(t)}}function o(t){try{d(a.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}d((a=a.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(478)),s=new class{constructor(){this.repo=new r.default}all(t=0){return a(this,void 0,void 0,(function*(){const e=yield this.repo.all(t);return{cars:yield e.json(),count:e.headers.get("X-Total-Count")}}))}get(t){return a(this,void 0,void 0,(function*(){return yield this.repo.get(t)}))}set(t){return a(this,void 0,void 0,(function*(){return this.repo.set(t),this.all()}))}update(t,e){return a(this,void 0,void 0,(function*(){return this.repo.update(t,e),this.all()}))}delete(t){return a(this,void 0,void 0,(function*(){return yield this.repo.delete(t),this.all()}))}};e.default=s},217:function(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,r){function s(t){try{d(a.next(t))}catch(t){r(t)}}function o(t){try{d(a.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}d((a=a.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(713)),s=i(n(861)),o=i(n(215)),d=i(n(605));(new class{start(){return a(this,void 0,void 0,(function*(){o.default.render(),s.default.render(yield r.default.all(d.default.page))}))}}).start()},605:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default={page:1,pageWin:1,sort:"id",order:"ASC",countCar:0,countWins:0,selectCar:.5,selectCarName:"",isWinner:!1}},150:function(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,r){function s(t){try{d(a.next(t))}catch(t){r(t)}}function o(t){try{d(a.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}d((a=a.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(713)),s=i(n(605)),o=i(n(579)),d=i(n(861));e.default=class{render(t,e){const n=document.createElement("div");n.classList.add("controls__left");const a=document.createElement("h2");a.classList.add("garage-page__title"),a.textContent=`Garage (${t})`;const i=document.createElement("div");i.classList.add("garage-page__nav");const r=document.createElement("p");r.classList.add("garage-page__nav-title"),r.textContent=`page #${e}`;const s=document.createElement("div");s.classList.add("garage-page__nav-buttons");const d=new o.default("prev-list","prev",this.prevList.bind(this)),u=new o.default("next-list","next",this.nextList.bind(this));return n.append(a),n.append(i),i.append(r),i.append(s),s.append(d.render()),s.append(u.render()),n}prevList(){return a(this,void 0,void 0,(function*(){s.default.page>1&&(s.default.page-=1),d.default.render(yield r.default.all(s.default.page))}))}nextList(){return a(this,void 0,void 0,(function*(){s.default.countCar/7>=s.default.page&&(s.default.page+=1),d.default.render(yield r.default.all(s.default.page))}))}}},427:function(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,r){function s(t){try{d(a.next(t))}catch(t){r(t)}}function o(t){try{d(a.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}d((a=a.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(713)),s=i(n(605)),o=i(n(579)),d=n(932),u=n(586),c=i(n(861));e.default=class{constructor(t){this.raceCarsButton=null,this.stopCarsButton=null,this.generateCarsButton=null,this.cars=t}render(){const t=document.createElement("li");return t.classList.add("garage-page__settings-buttons"),this.raceCarsButton=new o.default("race","race",this.raceCars.bind(this)).render(),this.stopCarsButton=new o.default("reset","reset",this.stopCars.bind(this)).render(),this.stopCarsButton.disabled=!0,this.generateCarsButton=new o.default("generate","generate",this.generateCars.bind(this)).render(),t.append(this.raceCarsButton),t.append(this.stopCarsButton),t.append(this.generateCarsButton),t}raceCars(){s.default.isWinner=!1,this.cars.forEach((t=>t.drive())),document.querySelectorAll("button").forEach((t=>{t.disabled=!0})),this.raceCarsButton.disabled=!0,this.stopCarsButton.disabled=!1}stopCars(){this.cars.forEach((t=>t.stop())),document.querySelectorAll("button").forEach((t=>{t.disabled=!1})),this.raceCarsButton.disabled=!1,this.stopCarsButton.disabled=!0,document.querySelectorAll(".stop-car").forEach((t=>{t instanceof HTMLButtonElement&&(t.disabled=!0)}))}generateCars(){return a(this,void 0,void 0,(function*(){for(let t=0;t<=100;t++){const t=(0,u.randomCars)(d.modelsCars,0,d.modelsCars.length-1),e=(0,u.randomCars)(d.brandsCars,0,d.brandsCars.length-1);yield r.default.set({color:(0,u.randomColor)(),name:`${e} ${t}`})}c.default.render(yield r.default.all())}))}}},861:function(t,e,n){var a=this&&this.__rest||function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]])}return n},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(605)),s=i(n(628)),o=i(n(198)),d=i(n(150)),u=i(n(427)),c=i(n(10)),l=new class{constructor(){this.mainPage=null,this.garageRaceControls=null,this.arrCars=[],this.garageLeftControls=new d.default,this.garageRightControls=new c.default}render(t){var e=a(t,[]);if(this.mainPage=document.getElementById("main-page"),!this.mainPage)return;const{cars:n,count:i}=e;r.default.countCar=i,this.arrCars=[],this.mainPage.innerHTML="";const d=document.createElement("div"),c=document.createElement("div"),l=document.createElement("ul");d.classList.add("garage-page"),c.classList.add("garage-page__controls"),l.classList.add("garage-page__cars-list"),d.append(c),this.mainPage.append(d),d.append(l),n.forEach((t=>{const e=new s.default(t);this.arrCars.push(e);const n=new o.default(e);l.append(n.render())})),this.garageRaceControls=new u.default(this.arrCars),c.append(this.garageLeftControls.render(i,r.default.page));const h=this.garageRightControls.render();c.append(h),h.append(this.garageRaceControls.render())}};e.default=l},10:function(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,r){function s(t){try{d(a.next(t))}catch(t){r(t)}}function o(t){try{d(a.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}d((a=a.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(713)),s=i(n(605)),o=i(n(579)),d=i(n(861));e.default=class{constructor(){this.inputCreateName=null,this.inputCreateColor=null,this.buttonCreateCar=null,this.inputUpdateName=null,this.inputUpdateColor=null,this.buttonUpdateCar=null}render(){const t=document.createElement("div");t.classList.add("controls__right");const e=document.createElement("div");e.classList.add("garage-page__settings-inputs");const n=document.createElement("div");n.classList.add("settings-inputs__create"),this.inputCreateName=document.createElement("input"),this.inputCreateName.type="text",this.inputCreateName.id="create-name",this.inputCreateColor=document.createElement("input"),this.inputCreateColor.type="color",this.inputCreateColor.id="create-color",this.buttonCreateCar=new o.default("create","create",this.createCar.bind(this)).render();const a=document.createElement("li");return a.classList.add("settings-inputs__update"),this.inputUpdateName=document.createElement("input"),this.inputUpdateName.type="text",this.inputUpdateName.id="update-name",this.inputUpdateColor=document.createElement("input"),this.inputUpdateColor.type="color",this.inputUpdateColor.id="update-color",this.buttonUpdateCar=new o.default("update","update",this.updateCar.bind(this)).render(),this.buttonCreateCar.disabled=""===s.default.selectCarName,this.inputCreateName.value=s.default.selectCarName,this.inputCreateName.addEventListener("input",(()=>{this.updateInputName()})),t.append(e),e.append(n),e.append(a),n.append(this.inputCreateName),n.append(this.inputCreateColor),n.append(this.buttonCreateCar),a.append(this.inputUpdateName),a.append(this.inputUpdateColor),a.append(this.buttonUpdateCar),t}updateInputName(){this.inputCreateName.value&&(this.buttonCreateCar.disabled=!1,s.default.selectCarName=this.inputCreateName.value)}createCar(){return a(this,void 0,void 0,(function*(){""!==this.inputCreateName.value&&(d.default.render(yield r.default.set({color:this.inputCreateColor.value,name:this.inputCreateName.value.trim()})),this.buttonCreateCar.disabled=!0)}))}updateCar(){return a(this,void 0,void 0,(function*(){.5!==s.default.selectCar&&(d.default.render(yield r.default.update(s.default.selectCar,{color:this.inputUpdateColor.value,name:this.inputUpdateName.value})),s.default.selectCar=.5)}))}}},151:function(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,r){function s(t){try{d(a.next(t))}catch(t){r(t)}}function o(t){try{d(a.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}d((a=a.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(670)),s=i(n(605)),o=i(n(579)),d=i(n(312));e.default=class{render(t,e){const n=document.createElement("li");n.classList.add("controls__left");const a=document.createElement("h2");a.classList.add("garage-page__title"),a.textContent=`Winners (${t})`;const i=document.createElement("li");i.classList.add("garage-page__nav");const r=document.createElement("p");r.classList.add("garage-page__nav-title"),r.textContent=`page #${e}`;const s=document.createElement("li");s.classList.add("garage-page__nav-buttons");const d=new o.default("prev-list-wins","prev",this.prevList.bind(this)),u=new o.default("next-list-wins","next",this.nextList.bind(this));return n.append(a),n.append(i),i.append(r),i.append(s),s.append(d.render()),s.append(u.render()),n}prevList(){return a(this,void 0,void 0,(function*(){s.default.pageWin>1&&(s.default.pageWin-=1),d.default.render(yield r.default.all(s.default.pageWin))}))}nextList(){return a(this,void 0,void 0,(function*(){s.default.countWins/10>=s.default.pageWin&&(s.default.pageWin+=1),d.default.render(yield r.default.all(s.default.pageWin))}))}}},312:function(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,r){function s(t){try{d(a.next(t))}catch(t){r(t)}}function o(t){try{d(a.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}d((a=a.apply(t,e||[])).next())}))},i=this&&this.__rest||function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]])}return n},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(n(605)),o=r(n(613)),d=r(n(594)),u=r(n(151)),c=new class{constructor(){this.mainPage=null,this.winnersControlsListRender=new u.default,this.winnersSortControls=new d.default,this.winnerCarRender=new o.default}render(t){var e=i(t,[]);if(this.mainPage=document.getElementById("main-page"),!this.mainPage)return;const{cars:n,count:r}=e;s.default.countWins=r,this.mainPage.innerHTML="";const o=document.createElement("li"),d=document.createElement("li"),u=document.createElement("ul");o.classList.add("garage-page"),d.classList.add("garage-page__controls"),u.classList.add("winners-page__cars-list"),o.append(d),this.mainPage.append(o),o.append(u),d.append(this.winnersControlsListRender.render(r,s.default.pageWin)),u.append(this.winnersSortControls.render()),n.forEach(((t,e)=>a(this,void 0,void 0,(function*(){u.append(yield this.winnerCarRender.render(t,e))}))))}};e.default=c},932:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.brandsCars=e.modelsCars=void 0,e.modelsCars=["Roadster","S","X","3","Y","Cybertruck","X5","X7","X3","X6","GT4","FXX","599 GTO","Enzo","458 Italia","250 GTO","Priora","4x4","Rio","Focus","Kalina","Vesta","Spark","Lacetti","Nexia","Matiz","Cobalt","Captiva","A7","A5","A3","A8","TT","Corolla","Camry","RAV4","Impreza","WRX","ES","LS","RX","GX","LX","GS","LC500","Gallardo","Aventador","911","Cayenne","FX37"],e.brandsCars=["Audi","Alfa Romeo","Alpina","Aston Martin","Axon","Ford","Ferrari","Fiat","GAZ","GMC","Honda","Hummer","Hyundai","Infiniti","Isuzu","JAC","Jaguar","Jeep","Kamaz","Lada","Lexus","Lotus","MAN","Maybach","MAZ","Mazda","McLaren","Nissan","Opel","Paccar","Pagani","Pontiac","Porsche","Renault","Ã… koda","Smart","Subaru","Suzuki","Tesla","Toyota","UAZ","Volvo","ZAZ","XPeng","TVR","Saab","RAM","Chevrolet","Mazzanti","Daewoo"]},586:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getDistance=e.animation=e.randomCars=e.randomColor=void 0,e.randomColor=()=>"#"+(16777216+16777215*Math.random()).toString(16).substr(1,6),e.randomCars=(t,e,n)=>t[Math.round(Math.random()*(n-e)+e)],e.animation=function(t,e,n){let a=!0,i=null,r=null;return i=window.requestAnimationFrame((function s(o){r||(r=o);const d=o-r,u=Math.floor(d*(n/t));e.style.transform=`translate(${Math.min(u,n)}px)`,u<n&&a&&(i=window.requestAnimationFrame(s))})),()=>{a=!1,cancelAnimationFrame(i)}};const n=t=>{const{top:e,left:n,width:a,height:i}=t.getBoundingClientRect();return{x:n,y:e}};e.getDistance=(t,e)=>Math.floor(((t,e)=>{const a=n(t),i=n(e);return Math.hypot(a.x-i.x,a.y-i.y)})(t,e))},56:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.tableWinners=e.carSvg=e.base=void 0,e.base='<div class="wrapper">\n  <header class="header">\n    <div class="header-nav">\n      <button class="header-nav__button" id="page-garage">Garage</button>\n      <button class="header-nav__button" id="page-winners">Winners</button>\n    </div>\n  </header>\n  <main class="main" id="main-page"></main>\n  <footer class="footer">\n    <a\n      class="footer-ico__github"\n      href="https://github.com/pavelguest/"\n      target="_blank"\n    ></a>\n    <p class="copyright">Copyright <time>2022</time></p>\n    <a\n      class="footer-ico__school"\n      href="https://rs.school/js/"\n      target="_blank"\n    ></a>\n  </footer>\n</div>';const n=t=>`\n    <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 511 511" style="enable-background:new 0 0 511 511;" xml:space="preserve">\n<g>\n\t<path d="M160,307.5h133.538c14.182,0,27.524-7.554,34.82-19.715l14.501-24.169c2.273-3.789,1.045-8.703-2.744-10.976\n\t\tc-3.788-2.273-8.702-1.045-10.976,2.744l-14.501,24.169c-4.421,7.369-12.507,11.947-21.101,11.947H160c-4.418,0-8,3.582-8,8\n\t\tS155.582,307.5,160,307.5z" fill="${t}"/>\n\t<path d="M504,323.569V299.5c0-48.523-39.477-88-88-88h-44.209c-12.392-9.747-62.874-48-91.791-48h-54\n\t\tc-11.001,0-21.904,1.664-32.403,4.945c-0.204,0.063-0.404,0.135-0.602,0.215l-73.691,29.675\n\t\tc-11.071,3.427-22.56,5.165-34.152,5.165H58.687c-0.379-0.778-0.884-1.51-1.53-2.157l-7.772-7.772\n\t\tC57.969,189.897,64,181.368,64,171.455V163.5c0-4.418-3.582-8-8-8H8c-4.418,0-8,3.582-8,8v7.955\n\t\tC0,184.713,10.787,195.5,24.045,195.5h4.642l8,8h-6.685C17.87,203.5,8,213.37,8,225.502V291.5c0,18.508,13.298,34.094,33.88,39.714\n\t\tC51.989,345.87,68.888,355.5,88,355.5c15.22,0,29.034-6.112,39.138-16h249.723c10.104,9.888,23.918,16,39.138,16\n\t\ts29.034-6.112,39.138-16H503c4.418,0,8-3.582,8-8C511,327.421,507.945,324.062,504,323.569z M16,171.5h32\n\t\tc-0.024,4.416-3.624,8-8.045,8h-15.91C19.624,179.5,16.024,175.916,16,171.5z M356.287,219.763\n\t\tc-3.571,2.505-6.227,5.165-8.059,7.339l-150.98-14.465C204.31,199.968,218.975,179.5,240,179.5h40\n\t\tC298.891,179.5,336.321,204.724,356.287,219.763z M24,291.5v-65.998c0-3.31,2.692-6.002,6.002-6.002h55.15\n\t\tc13.317,0,26.514-2.014,39.225-5.986c0.204-0.063,0.404-0.135,0.602-0.215l73.433-29.571c-1.999,2.142-3.953,4.431-5.85,6.899\n\t\tc-9.799,12.756-14.805,25.43-15.014,25.963c-0.913,2.336-0.677,4.965,0.638,7.102c1.314,2.136,3.554,3.533,6.051,3.772l167,16\n\t\tc0.28,0.027,0.559,0.041,0.835,0.041c2.931,0,5.573-1.5,6.942-4.153c0.559-0.939,7.435-11.851,24.986-11.851h32\n\t\tc39.701,0,72,32.299,72,72v24h-21.414c3.467-7.279,5.414-15.415,5.414-24c0-30.878-25.122-56-56-56s-56,25.122-56,56\n\t\tc0,8.585,1.947,16.721,5.414,24H138.586c3.467-7.279,5.414-15.415,5.414-24c0-30.878-25.122-56-56-56s-56,25.122-56,56\n\t\tc0,3.313,0.306,6.554,0.86,9.711C27.217,304.609,24,298.428,24,291.5z M48,299.5c0-22.056,17.944-40,40-40s40,17.944,40,40\n\t\ts-17.944,40-40,40S48,321.556,48,299.5z M416,339.5c-22.056,0-40-17.944-40-40s17.944-40,40-40s40,17.944,40,40\n\t\tS438.056,339.5,416,339.5z" fill="${t}"/>\n\t<path d="M112,291.5c-4.418,0-8,3.582-8,8c0,8.822-7.178,16-16,16s-16-7.178-16-16s7.178-16,16-16c4.418,0,8-3.582,8-8s-3.582-8-8-8\n\t\tc-17.645,0-32,14.355-32,32s14.355,32,32,32s32-14.355,32-32C120,295.082,116.418,291.5,112,291.5z" fill="#fff"/>\n\t<path d="M440,291.5c-4.418,0-8,3.582-8,8c0,8.822-7.178,16-16,16s-16-7.178-16-16s7.178-16,16-16c4.418,0,8-3.582,8-8s-3.582-8-8-8\n\t\tc-17.645,0-32,14.355-32,32s14.355,32,32,32s32-14.355,32-32C448,295.082,444.418,291.5,440,291.5z" fill="#fff"/>\n</g>\n</svg>\n    `;e.carSvg=n,e.tableWinners=(t,e,a,i,r,s)=>`\n  <div>${t}</div>\n  <div>${e}</div>\n  <div class="winner-car__container">${n(a)}</div>\n  <div>${i}</div>\n  <div>${r}</div>\n  <div>${s} s</div>\n\n`},708:(t,e)=>{var n;Object.defineProperty(e,"__esModule",{value:!0}),e.IStatus=void 0,function(t){t.started="started",t.stopped="stopped",t.drive="drive"}(n||(n={})),e.IStatus=n}},e={};function n(a){var i=e[a];if(void 0!==i)return i.exports;var r=e[a]={exports:{}};return t[a].call(r.exports,r,r.exports,n),r.exports}n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(983),n(932),n(56),n(605),n(708),n(665),n(478),n(825),n(861),n(217),n(713),n(114),n(670),n(215),n(150),n(10),n(427),n(312),n(151),console.log('\nSelf test:\nBasic structure:\n+ (+5) There should be two views on the site: "Garage" and "Winners".\n+ (+5) "Garage" view should contain its name, page number, and the full amount of items in the database (how many car user has in his garage).\n+ (+5) "Winners" view should contain its name, page number, and the full amount of items in the database (how many records the winners table contains).\n+- (+10) View state should be saved when user switches from one view to another. For example, page number shouldn\'t be reset, input controls should contain that they contained before switching, etc.\n"Garage" view:\n+ (+15) User should be able to create, update, delete a car, and see the list of the cars. Car has only two attributes: "name" and "color". For "delete"-operation car should be deleted from "garage" table as well as from "winners".\n+ (+10) User should be able to select any color from an RGB-Palete like here and see the picture of the car colored with the color selected and car\'s name.\n+ (+5) Near the car\'s picture should be buttons to update its attributes or delete it.\n+ (+10) There should be pagination on the "Garage" view (7 cars per one page).\n+ (+10) There should be a button to create random cars (100 cars per click). Name should be assembled from two random parts, for example "Tesla" + "Model S", or "Ford" + "Mustang" (At least 10 different names for each part). Color should be also generated randomly.\nCar animation:\n+ (+5) Near the car\'s picture should be buttons for starting / stoping the car engine.\n+ (+20) User clicks to the engine start button -> UI is waiting for car\'s velocity answer -> animate the car and makes another request to drive. In case api returned 500 error car animation should be stopped.\n+ (+5) User clicks to the engine stop button -> UI is waiting for answer for stopping engine -> car returned to it\'s initial place.\n(+5) Start engine button should be disabled in case car is already in driving mode. As well as stop engine button should be disabled when car is on it\'s initial place.\n+ (+15) Car animation should work fine on any screen (smallest screen size is 500px).\nRace animation:\n+ (+10) There should be a button to start race. After user clicks this button all the cars on the current page start driving.\n+ (+10) There should be a button to reset race. After user clicks this button all the cars return to it\'s initial places.\n+ (+10) After some car finishes first user should see the message contains car\'s name that shows which one has won.\n"Winners" view:\n+ (+10) After some car wins it should be displayed at the "Winners view" table.\n+ (+5) There should be pagination (10 winners per one page).\n+ (+10) Table should include the next culumns: "â„–", "Image of the car", "Name of the car", "Wins number", "Best time in seconds" (names of the columns can differ). If the same car wins more than once the number of wins should be incremented while best time should be saved only if it\'s better than the stored one.\n+ (+10) User should be able to sort cars by wins number and by best time (ASC, DESC).\n\ntotal: 185 points\n\nthanks for checking! good luck!\n')})();